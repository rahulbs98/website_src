# üì∏ Photo Album Manager

A **Rust-based Tauri desktop app** for efficiently organizing photos into albums with automatic metadata generation.

## Features

- ‚úÖ **Tauri + Rust Backend**: Lightning-fast file operations
- ‚úÖ **EXIF Auto-Extraction**: Automatically extracts date and GPS location from photos
- ‚úÖ **Image Preview**: View photos while editing metadata
- ‚úÖ **Photo Organization**: Create album folders and organize photos
- ‚úÖ **Metadata Generation**: Auto-generates `albums.meta.json` with all photo metadata
- ‚úÖ **Cross-platform**: Works on macOS, Windows, Linux
- ‚úÖ **Efficient**: Fast local processing, no network required

## Prerequisites

**1. Install Rust** (if not already installed):

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

After installation, run:
```bash
source $HOME/.cargo/env
```

**2. Install Node.js** (https://nodejs.org/) - version 16 or higher

**3. Add Rust to your PATH permanently**:

```bash
echo 'source $HOME/.cargo/env' >> ~/.zshrc
source ~/.zshrc
```

## Setup & Installation

```bash
# 1. Navigate to photomanager folder
cd website_src/photomanager

# 2. Install dependencies
npm install

# 3. Run the app
npm run dev
```

**Important**: If you get a "cargo not found" error, run:
```bash
source $HOME/.cargo/env
npm run dev
```

## Usage Workflow

1. **Launch the app**: `npm run dev` (in photomanager directory)
2. **Select folder**: Choose a folder with photos to organize
3. **Scan**: App scans and automatically extracts EXIF data (date, GPS location if available)
4. **Edit metadata**: 
   - View photo previews to identify images
   - Review and update titles, tags (comma-separated), location, dates
   - EXIF data for date and location is auto-filled if available
   - Photos without EXIF data will have empty date/location fields
5. **Set album details**: 
   - Enter album name (e.g., "Tokyo 2024") ‚Äî will be normalized to "tokyo-2024"
   - **Important**: Select output path: `website_src/assets/images/albums`
6. **Create Album**: App copies photos and updates `assets/data/albums.meta.json`
7. **Generate website data**: 
   - Navigate to `website_src/` directory
   - Run `npm run albums` to generate `albums.json` from metadata
8. **View on website**: Photos now appear on your albums page!

## What It Creates

When you create an album, the app:

1. **Creates folder**: `assets/images/albums/{normalized-album-name}/`
2. **Copies photos**: All photos go into the album folder
3. **Updates metadata**: Appends to existing `assets/data/albums.meta.json` (doesn't overwrite!)

After running `npm run albums` in `website_src/`:
- Generates `assets/data/albums.json` from the metadata

Example output:
```
assets/
‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ albums/
‚îÇ       ‚îú‚îÄ‚îÄ tokyo-2024/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ shibuya-crossing.jpg
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ senso-ji.jpg
‚îÇ       ‚îî‚îÄ‚îÄ paris-2024/
‚îÇ           ‚îî‚îÄ‚îÄ eiffel-tower.jpg
‚îî‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ albums.meta.json    ‚Üê Updated by app (metadata)
    ‚îî‚îÄ‚îÄ albums.json         ‚Üê Generated by npm run albums (for website)
```

`albums.meta.json` structure:
```json
{
  "tokyo-2024/shibuya-crossing.jpg": {
    "title": "Shibuya Crossing",
    "tags": ["travel", "architecture"],
    "location": "Tokyo, Japan",
    "date": "2024-05-15",
    "album": "tokyo-2024"
  }
}
```

## Architecture

- **Backend (Rust)**: File I/O, image scanning, photo copying
- **Frontend (React + Vite)**: User interface with multi-step workflow
- **Tauri Bridge**: Secure IPC between frontend and backend

## Troubleshooting

**"cargo not found" error**
```bash
source $HOME/.cargo/env
```
Or add to ~/.zshrc permanently:
```bash
echo 'source $HOME/.cargo/env' >> ~/.zshrc
```

**Build fails with Rust errors**
```bash
rustup update
cargo clean
npm run dev
```

**Port 5173 already in use**
- Stop other Vite servers or change the port in `vite.config.js`

**File permission issues**
- Grant the app permission to access folders when prompted by macOS

## License

Same as parent website project (MIT for code, ¬© for content/photos)

---

**Built with ‚ù§Ô∏è using Tauri + Rust + React**
